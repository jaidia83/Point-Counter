<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Point Counter</title>
    <style>
        body {
            background: black;
            font-family: Arial, sans-serif;
            color: aliceblue;
            margin: 20px;
            text-align: center;
        }

        input, button {
            font-size: 18px;
            padding: 10px 15px;
            margin: 5px;
            cursor: pointer;
        }

        table {
            border-collapse: collapse;
            margin: 20px auto;
            width: 90%;
            max-width: 1000px;
        }

        td {
            border: 1px solid white;
            padding: 10px;
            text-align: center;
            word-break: break-word;
        }

        .counter {
            font-size: 18px;
            margin: 0 10px;
            color: white;
        }

        #globalControls {
            display: none;
            margin-top: 15px;
        }

        #tableWrapper {
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h3>Point Counter</h3>

    <p>Rows: <input type="number" id="rowsInput" min="1" value="4"></p>
    <p>Columns: <input type="number" id="colsInput" min="1" value="8"></p>
    <button id="generateBtn">Generate Table</button>

    <div id="tableWrapper">
        <table id="dynamicTable"></table>
    </div>

    <div id="globalControls">
        <button id="allPlus">ALL+1</button>
        <button id="allMinus">ALL-1</button>
    </div>

    <script>
        const table = document.getElementById("dynamicTable");
        const globalControls = document.getElementById("globalControls");

        function increaseAllCounters() {
            document.querySelectorAll(".counter").forEach(counter => {
                counter.textContent = parseInt(counter.textContent) + 1;
            });
        }

        function decreaseAllCounters() {
            document.querySelectorAll(".counter").forEach(counter => {
                let value = parseInt(counter.textContent);
                if (value > 0) counter.textContent = value - 1;
            });
        }

        document.getElementById("allPlus").addEventListener("click", increaseAllCounters);
        document.getElementById("allMinus").addEventListener("click", decreaseAllCounters);

        function generateTable() {
            const rows = parseInt(document.getElementById("rowsInput").value);
            const cols = parseInt(document.getElementById("colsInput").value);

            table.innerHTML = "";

            for (let r = 1; r <= rows; r++) {
                let row = document.createElement("tr");

                for (let c = 1; c <= cols; c++) {
                    let cell = document.createElement("td");

                    let labelBtn = document.createElement("button");
                    labelBtn.textContent = `Student ${r},${c}`;
                    labelBtn.style.marginRight = "10px";

                    labelBtn.addEventListener("click", () => {
                        let input = document.createElement("input");
                        input.type = "text";
                        input.value = labelBtn.textContent;
                        input.style.width = "120px";

                        cell.replaceChild(input, labelBtn);
                        input.focus();

                        const save = () => {
                            labelBtn.textContent = input.value || "Unnamed";
                            cell.replaceChild(labelBtn, input);
                        };

                        input.onblur = save;
                        input.onkeypress = (e) => { if (e.key === "Enter") save(); };
                    });

                    let counter = document.createElement("span");
                    counter.textContent = "0";
                    counter.className = "counter";

                    let plusBtn = document.createElement("button");
                    plusBtn.textContent = "+";
                    plusBtn.addEventListener("click", () => {
                        counter.textContent = parseInt(counter.textContent) + 1;
                    });

                    let minusBtn = document.createElement("button");
                    minusBtn.textContent = "-";
                    minusBtn.style.marginLeft = "5px";
                    minusBtn.addEventListener("click", () => {
                        let value = parseInt(counter.textContent);
                        if (value > 0) counter.textContent = value - 1;
                    });

                    cell.appendChild(labelBtn);
                    cell.appendChild(counter);
                    cell.appendChild(plusBtn);
                    cell.appendChild(minusBtn);

                    row.appendChild(cell);
                }

                table.appendChild(row);
            }

            globalControls.style.display = "block";
        }

        document.getElementById("generateBtn").addEventListener("click", generateTable);
    </script>
</body>
</html>

        function incrementCounter(e) {
            e.preventDefault();
            counter.textContent = parseInt(counter.textContent) + 1;
        }
    </script>
</body>
</html>
